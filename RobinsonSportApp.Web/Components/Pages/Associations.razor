@page "/associations"
@rendermode InteractiveServer
@using RobinsonSportApp.Core.Models



<div class="association-container">
    <div class="filter-bar">
        <input type="text" placeholder="Any keyword" @bind="EnteredKeyWord" @oninput="HandleInput" />

    </div>
</div>


<ul class="association-ul">

    @if (!search)
    {
        @foreach (var association in associations)
        {
            <li class="@(associations.IndexOf(association) % 2 == 0 ? "association-li" : "association-li-2")">
                <h1>@association.Name</h1>
                <br />
                <p><b>Contact Person:</b> @association.FirstName @association.LastName</p>
                <p><b>President's Name:</b> @association.PresidentsName</p>
                <p><b>Phone Number:</b>  @association.PhoneNumber</p>
                <p><b>Email:</b> @association.Email</p>
                <p><b>Url:</b> @association.WebsiteUrl</p>
            </li>
        }
    }
    else
    {
        @foreach (var association in associations)
        {
            name = association.FirstName + " " + association.LastName;
            @if (association.Name.ToLower().Contains(EnteredKeyWord) || association.FirstName.ToLower().Contains(EnteredKeyWord) || association.LastName.ToLower().Contains(EnteredKeyWord) || association.PhoneNumber.ToLower().Contains(EnteredKeyWord) || name.ToLower().Contains(EnteredKeyWord) || association.Email.Contains(EnteredKeyWord) || association.WebsiteUrl.Contains(EnteredKeyWord) || association.PresidentsName.ToLower().Contains(EnteredKeyWord))
            {
                <li class="@(associations.IndexOf(association) % 2 == 0 ? "association-li" : "association-li-2")">
                    <h1>@association.Name</h1>
                    <br />
                    <p><b>Contact Person:</b> @association.FirstName @association.LastName</p>
                    <p><b>President's Name:</b> @association.PresidentsName</p>
                    <p><b>Phone Number:</b> @association.PhoneNumber</p>
                    <p><b>Email:</b> @association.Email</p>
                    <p><b>Url:</b> @association.WebsiteUrl</p>
                </li>
            }
        }
    }



</ul>

@code {
    private string EnteredKeyWord { get; set; } = "";
    private bool search = false;
    private string name { get; set; } = "";
    public List<Association> associations = new List<Association>
    {
        new Association
        {
            Name = "Football champions",
            FirstName = "Patrick",
            LastName = "Valence",
            PresidentsName = "Sebastien",
            PhoneNumber = "744987856",
            Email = "something@gmail.com",
            WebsiteUrl = "https://someurlispresenthere.com"

        },
        new Association
        {
            Name = "Football champions",
            FirstName = "Patrick",
            LastName = "Goudzi",
            PresidentsName = "Sebastien",
            PhoneNumber = "744987856",
            Email = "something@gmail.com",
            WebsiteUrl = "https://someurlispresenthere.com"

        },
        new Association
        {
            Name = "Basketball champions",
            FirstName = "Patrick",
            LastName = "Goudzi",
            PresidentsName = "Sebastien",
            PhoneNumber = "744987856",
            Email = "something@gmail.com",
            WebsiteUrl = "https://someurlispresenthere.com"

        },
        new Association
        {
            Name = "Football champions",
            FirstName = "Patrick",
            LastName = "Goudzi",
            PresidentsName = "Sebastien",
            PhoneNumber = "744987856",
            Email = "something@gmail.com",
            WebsiteUrl = "https://someurlispresenthere.com"

        }
    };

    private void HandleInput(ChangeEventArgs e)
    {
        search = true;
        EnteredKeyWord = e.Value.ToString().ToLower();


    }

}
